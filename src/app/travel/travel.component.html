<section class="pt-5 pb-5">
  <h2 class="m-auto text-center">Spacemap</h2>
  <div *ngIf="data.length == 0">
      <div class="loader">
        <div class="loaderOutter">
          <div class="loaderMid">
            <div class="loaderInner"></div>
          </div>
        </div>
        <p class="glitch" data-text="LOCATING POSITION...">LOCATING POSITION...</p>
      </div>
    </div>
    <div class="mt-3 map" *ngIf="data.length > 0">
        <svg height="100%" width="100%" viewBox="0 0 100 100">
      
          <!-- Y axis -->
          <line x1="50" y1="0" x2="50" y2="100" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.4" fill="rgba(169, 255, 251, 0.5)"/>
      
          <line x1="49" y1="60" x2="51" y2="60" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="49" y1="70" x2="51" y2="70" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="49" y1="80" x2="51" y2="80" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="49" y1="90" x2="51" y2="90" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="48" y1="100" x2="52" y2="100" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.3" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="49" y1="40" x2="51" y2="40" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="49" y1="30" x2="51" y2="30" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="49" y1="20" x2="51" y2="20" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="49" y1="10" x2="51" y2="10" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="48" y1="0" x2="52" y2="0" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.3" fill="rgba(169, 255, 251, 0.5)"/>
      
          <!-- X axis -->
          <line x1="-100" y1="50" x2="200" y2="50" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.4" fill="rgba(169, 255, 251, 0.5)"/>
      
          <line x1="40" y1="49" x2="40" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="30" y1="49" x2="30" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="20" y1="49" x2="20" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="10" y1="49" x2="10" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="0" y1="48" x2="0" y2="52" stroke="rgba(169, 255, 251, 0.7)" stroke-width="0.4" fill="rgba(169, 255, 251, 0.7)"/>
          <line x1="-10" y1="49" x2="-10" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="-20" y1="49" x2="-20" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="-30" y1="49" x2="-30" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="-40" y1="49" x2="-40" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="-50" y1="48" x2="-50" y2="52" stroke="rgba(169, 255, 251, 0.7)" stroke-width="0.4" fill="rgba(169, 255, 251, 0.7)"/>
          <line x1="-60" y1="49" x2="-60" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="-70" y1="49" x2="-70" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="-80" y1="49" x2="-80" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="-90" y1="49" x2="-90" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="-100" y1="48" x2="-100" y2="52" stroke="rgba(169, 255, 251, 0.7)" stroke-width="0.4" fill="rgba(169, 255, 251, 0.7)"/>
          <line x1="60" y1="49" x2="60" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="70" y1="49" x2="70" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="80" y1="49" x2="80" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="90" y1="49" x2="90" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="100" y1="48" x2="100" y2="52" stroke="rgba(169, 255, 251, 0.7)" stroke-width="0.4" fill="rgba(169, 255, 251, 0.7)"/>
          <line x1="110" y1="49" x2="110" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="120" y1="49" x2="120" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="130" y1="49" x2="130" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="140" y1="49" x2="140" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="150" y1="48" x2="150" y2="52" stroke="rgba(169, 255, 251, 0.7)" stroke-width="0.4" fill="rgba(169, 255, 251, 0.7)"/>
          <line x1="160" y1="49" x2="160" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="170" y1="49" x2="170" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="180" y1="49" x2="180" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="190" y1="49" x2="190" y2="51" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="200" y1="48" x2="200" y2="52" stroke="rgba(169, 255, 251, 0.7)" stroke-width="0.4" fill="rgba(169, 255, 251, 0.7)"/>
      
          <!-- Current position point-->
          <circle cx="50" cy="50" r="0.6" stroke="none" stroke-width="0" fill="red">
          </circle>
          <circle cx="50" cy="50" r="1.2" stroke="red" stroke-width="0.2" fill="none"/>
      
          <!-- Galaxy center -->
          <polygon points="50,1.5 51.5,4.2 48.5,4.2" stroke="none" fill="white"/>
          <text x="39.4" y="7" style="font-family: 'Orbitron', sans-serif; fill: white; font-size: 0.15rem;">Galaxy</text>
          <text x="51" y="7" style="font-family: 'Orbitron', sans-serif; fill: white; font-size: 0.15rem;">center</text>
      
          <!-- Planets -->
          <g *ngFor="let current of planets">
            <circle class="planetItem" [attr.cx.]="current.xPlaneCoord" [attr.cy.]="current.yPlaneCoord" r="0.8" stroke="white" stroke-width="0.2" fill="none"/>
            <circle class="planetItem" [attr.cx.]="current.xPlaneCoord" [attr.cy.]="current.yPlaneCoord" r="0.6" [attr.fill.]="current.heightColor" stroke-width="0" stroke="none"/>
            <g class="planetName" [attr.x.]="current.xPlaneCoord" [attr.y.]="current.yPlaneCoord">
              <text [attr.x.]="current.xPlaneCoord" [attr.y.]="current.yPlaneCoord"  transform="translate(1, -1)" style="font-family: 'Orbitron', sans-serif; fill: white; font-size: 0.1rem;">{{current.name}}</text>
              <line id="roadLine" class="roadLine" x1="50" y1="50" [attr.x2.]="current.xPlaneCoord" [attr.y2.]="current.yPlaneCoord" stroke="red" stroke-width="0.2" />
            </g>
          </g>
      
          <!-- Map key-->
          <line x1="100%" y1="96%" x2="110%" y2="96%" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.4" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="100%" y1="95%" x2="100%" y2="97%" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <line x1="110%" y1="95%" x2="110%" y2="97%" stroke="rgba(169, 255, 251, 0.5)" stroke-width="0.2" fill="rgba(169, 255, 251, 0.5)"/>
          <text x="102%" y="99%" style="font-family: 'Orbitron', sans-serif; fill: white; font-size: 0.12rem;">10 pc</text>
          
          <defs>
              <linearGradient id="grad2" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:rgb(255,0,0);stop-opacity:1" />
                <stop offset="100%" style="stop-color:rgb(0,255,0);stop-opacity:1" />
              </linearGradient>
            </defs>
            <rect x="115" y="80"  width="0.8" height="15" stroke="url(#grad2)" stroke-width="2" />
            <line x1="114" y1="88" x2="118" y2="88" stroke="white" stroke-width="0.4" />
            <text x="120" y="87" style="font-family: 'Orbitron', sans-serif; fill: white; font-size: 0.12rem;">Galactic</text>
            <text x="120" y="90" style="font-family: 'Orbitron', sans-serif; fill: white; font-size: 0.12rem;">plane</text>
            <text x="120" y="80" style="font-family: 'Orbitron', sans-serif; fill: white; font-size: 0.12rem;">Above</text>
            <text x="120" y="97" style="font-family: 'Orbitron', sans-serif; fill: white; font-size: 0.12rem;">Below</text>

          <!-- Current position text -->
          <rect x="-27" y="1" width="45" height="4.5" stroke="rgb(169, 255, 251)" stroke-width="0.1" fill="rgba(0, 0, 0, 0.8)" />
          <text x="-26" y="4" style="font-family: 'Orbitron', sans-serif; fill: rgb(255, 185, 94); font-size: 0.12rem;">Current position :</text>
          <text x="-7" y="4" style="font-family: 'Orbitron', sans-serif; fill: rgb(169, 255, 251); font-size: 0.12rem;">Solar system >> Earth</text>
          
        </svg>
      </div>
</section>
